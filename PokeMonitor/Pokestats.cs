using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace PokeMonitor
{
    static class Pokestats
    {
        public static int CalcAltIV(int pokeId, int atk, int def, int sta)
        {
            int[] bs = stats[pokeId - 1];

            double maxCP = (bs[0] + 15) * Math.Sqrt((bs[1] + 15) * (bs[2] + 15));
            double minCP = bs[0] * Math.Sqrt(bs[1] * bs[2]);

            double curCP = (bs[0] + atk) * Math.Sqrt((bs[1] + sta) * (bs[2] + def));

            return (int) Math.Round((curCP - minCP) / (maxCP - minCP) * 100.0f,0);
        }

        private static readonly int[][] stats;

        static Pokestats()
        {
            stats = new int[][] {
                new int[] {126,90,126},
                new int[] {156,120,158},
                new int[] {198,160,200},
                new int[] {128,78,108},
                new int[] {160,116,140},
                new int[] {212,156,182},
                new int[] {112,88,142},
                new int[] {144,118,176},
                new int[] {186,158,222},
                new int[] {62,90,66},
                new int[] {56,100,86},
                new int[] {144,120,144},
                new int[] {68,80,64},
                new int[] {62,90,82},
                new int[] {144,130,130},
                new int[] {94,80,90},
                new int[] {126,126,122},
                new int[] {170,166,166},
                new int[] {92,60,86},
                new int[] {146,110,150},
                new int[] {102,80,78},
                new int[] {168,130,146},
                new int[] {112,70,112},
                new int[] {166,120,166},
                new int[] {124,70,108},
                new int[] {200,120,154},
                new int[] {90,100,114},
                new int[] {150,150,172},
                new int[] {100,110,104},
                new int[] {132,140,136},
                new int[] {184,180,190},
                new int[] {110,92,94},
                new int[] {142,122,128},
                new int[] {204,162,170},
                new int[] {116,140,124},
                new int[] {178,190,178},
                new int[] {106,76,118},
                new int[] {176,146,194},
                new int[] {98,230,54},
                new int[] {168,280,108},
                new int[] {88,80,90},
                new int[] {164,150,164},
                new int[] {134,90,130},
                new int[] {162,120,158},
                new int[] {202,150,190},
                new int[] {122,70,120},
                new int[] {162,120,170},
                new int[] {108,120,118},
                new int[] {172,140,154},
                new int[] {108,20,86},
                new int[] {148,70,140},
                new int[] {104,80,94},
                new int[] {156,130,146},
                new int[] {132,100,112},
                new int[] {194,160,176},
                new int[] {122,80,96},
                new int[] {178,130,150},
                new int[] {156,110,110},
                new int[] {230,180,180},
                new int[] {108,80,98},
                new int[] {132,130,132},
                new int[] {180,180,202},
                new int[] {110,50,76},
                new int[] {150,80,112},
                new int[] {186,110,152},
                new int[] {118,140,96},
                new int[] {154,160,144},
                new int[] {198,180,180},
                new int[] {158,100,78},
                new int[] {190,130,110},
                new int[] {222,160,152},
                new int[] {106,80,136},
                new int[] {170,160,196},
                new int[] {106,80,118},
                new int[] {142,110,156},
                new int[] {176,160,198},
                new int[] {168,100,138},
                new int[] {200,130,170},
                new int[] {110,180,110},
                new int[] {184,190,198},
                new int[] {128,50,138},
                new int[] {186,100,180},
                new int[] {138,104,132},
                new int[] {126,70,96},
                new int[] {182,120,150},
                new int[] {104,130,138},
                new int[] {156,180,192},
                new int[] {124,160,110},
                new int[] {180,210,188},
                new int[] {120,60,112},
                new int[] {196,100,196},
                new int[] {136,60,82},
                new int[] {172,90,118},
                new int[] {204,120,156},
                new int[] {90,70,186},
                new int[] {104,120,140},
                new int[] {162,170,196},
                new int[] {116,60,110},
                new int[] {178,110,168},
                new int[] {102,80,124},
                new int[] {150,120,174},
                new int[] {110,120,132},
                new int[] {232,190,164},
                new int[] {102,100,150},
                new int[] {140,120,202},
                new int[] {148,100,172},
                new int[] {138,100,204},
                new int[] {126,180,160},
                new int[] {136,80,142},
                new int[] {190,130,198},
                new int[] {110,160,116},
                new int[] {166,210,160},
                new int[] {40,500,60},
                new int[] {164,130,152},
                new int[] {142,210,178},
                new int[] {122,60,100},
                new int[] {176,110,150},
                new int[] {112,90,126},
                new int[] {172,160,160},
                new int[] {130,60,128},
                new int[] {194,120,192},
                new int[] {154,80,196},
                new int[] {176,140,180},
                new int[] {172,130,134},
                new int[] {198,130,160},
                new int[] {214,130,158},
                new int[] {184,130,186},
                new int[] {148,150,184},
                new int[] {42,40,84},
                new int[] {192,190,196},
                new int[] {186,260,190},
                new int[] {110,96,110},
                new int[] {114,110,128},
                new int[] {186,260,168},
                new int[] {192,130,174},
                new int[] {238,130,178},
                new int[] {156,130,158},
                new int[] {132,70,160},
                new int[] {180,140,202},
                new int[] {148,60,142},
                new int[] {190,120,190},
                new int[] {182,160,162},
                new int[] {180,320,180},
                new int[] {198,180,242},
                new int[] {232,180,194},
                new int[] {242,180,194},
                new int[] {128,82,110},
                new int[] {170,122,152},
                new int[] {250,182,212},
                new int[] {284,212,202},
                new int[] {220,200,220},
            };
        }
    }
}
